/*! BuildToolsCookbook v2.0.0 | (c) 2024 R A H U L J A I S W A L (RJ) | MIT License |  */
"use strict";$((function(){o(),$("#logOutCreator").off("click").on("click",(function(){a()})),s(),function(){const o=JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/videos/${o.id}`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(o){aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(o,e,s){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})}(),$.ajax({url:`${BASE_URL}/v1/creator/approved`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(o,e,s){const t=s.getResponseHeader("Set-Cookie")||s.getResponseHeader("Your-Custom-Header");console.log(t),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(o,e,s){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}}),e()}));const o=()=>{$.ajax({url:`${BASE_URL}/v1/creator/stats`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(o){const{totalVideos:e,totalFundsRaised:s,totalFans:t,coOwnerEarnings:i}=o.stats;$("#totalVideos").text(e),$("#totalFundRaised").text(`$ ${s.toFixed(2)}`),$("#totalFans").text(t),$("#coOwnerEarnings").text(`$ ${i}`)},error:function(o,e,s){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})},e=()=>{const o=JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/creator/${o.id}/videos`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(o){console.log("Creator Videos",o),function(o){const e=JSON.parse(localStorage.getItem("userInfo")),{picture:s,name:t}=e;let i='<div class="col-6 col-lg-3 col-sm-6 col-md-3 upload-videos-plus-icon mb-4">\n                    <div class="about-creators" data-toggle="modal" data-target="#shareVideoModal">      \n                        <img class="d-block slider-image search-img-icon" src="svg/creatordash/add-token.svg" alt="First slide" style="height: 295px;\n                        position: relative;\n                        top: 10px;\n                        cursor: pointer;">\n                    </div>\n                </div>';o.forEach((function(o){console.log(o);const{totalShares:e,adRevenueShare:a,desiredFund:r,title:n,_id:l}=o;var c;i+=`<div class="col-6 col-lg-3 col-sm-6 col-md-3">\n                    <div class="about-creators pb-3 viewDetailOfVideo" vid="${l}">\n                        <img class="d-block slider-image" src="svg/common/Token 11.svg" alt="First slide">\n                        <div class="top-left-part">\n                            <div class="heading">${n}</div>\n                            <div class="d-inline-flex mt-2">\n                                <img class="user-image" src="${s}" style="border-radius: 50%">\n                                <h5 class="ml-2 description">${t}</h5>\n                            </div>\n                        </div>\n                        <div class="bottom-token-info">\n                            <ul class="list-group list-group-horizontal token-info-content">\n                                <li class="list-group-item border-0">\n                                    <p class="mb-1">Shares</p>\n                                    <p>${e}</p>\n                                </li>\n                                <li class="list-group-item border-0 px-0">\n                                    <p class="mb-1">Offered</p>\n                                    <p>${a}%</p>\n                                </li>\n                                <li class="list-group-item border-0 px-0">\n                                    <p class="mb-1">Raised</p>\n                                    <p>$ ${c=r,c.toString().slice(0,-3)+"k"}</p>\n                                </li>\n                                </ul>\n                        </div>\n                    </div>\n                </div>`})),$("#uploadedVideos").append(i),$(".viewDetailOfVideo").off("click").on("click",(function(){const o=$(this).attr("vid");window.location.href=`fractionalize.html?vid=${o}`}))}(o),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(o,e,s){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})};const s=()=>{const o=JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/creator/${o.id}`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(o){t(o.user),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(o,e,s){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})},t=o=>{let{picture:e,name:s}=o;$("#userProfileTempl .user-profile-pic").attr("src",e),i(o)},i=o=>{const{picture:e,name:s}=o;$(".creator-section .profile-img").attr("src",e),$(".creator-section .bio-wrapper .users-name").text(s)};let a=o=>{const e=JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/creator/logout`,type:"POST",data:{email:`${e.email}`},xhrFields:{withCredentials:!0},crossDomain:!0,success:function(o){google.accounts.id.initialize({client_id:"280264346590-vjg6cqponliotfqn32pt2mna2jnqmmtu.apps.googleusercontent.com"}),google.accounts.id.revoke(`${e.email}`,(o=>{console.log("consent revoked"),document.cookie="abittoken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/",localStorage.removeItem("userInfo"),window.location.href="index.html"})),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(o,e,s){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})};
