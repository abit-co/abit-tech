/*! BuildToolsCookbook v2.0.0 | (c) 2024 R A H U L J A I S W A L (RJ) | MIT License |  */
define((function(){"use strict";$((function(){e(),$("#logOutCreator").off("click").on("click",(function(){r()})),s(),function(){const e=JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/videos/${e.id}`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(e,o,t){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})}(),$.ajax({url:`${BASE_URL}/v1/creator/approved`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e,o,t){const s=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("Your-Custom-Header");console.log(s),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(e,o,t){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}}),o()}));const e=()=>{$.ajax({url:`${BASE_URL}/v1/creator/stats`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){const{totalVideos:o,totalFundsRaised:t,totalFans:s,coOwnerEarnings:a}=e.stats;$("#totalVideos").text(o),$("#totalFundRaised").text(`$ ${t.toFixed(2)}`),$("#totalFans").text(s),$("#coOwnerEarnings").text(`$ ${a}`)},error:function(e,o,t){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})},o=()=>{const e=JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/creator/${e.id}/videos`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){console.log("Creator Videos",e),function(e){const o=JSON.parse(localStorage.getItem("userInfo")),{picture:s,name:a,userType:i}=o;let r="";e.forEach((function(e,o){console.log(e);const{totalShares:t,adRevenueShare:i,desiredFund:n,title:l,_id:c}=e;var d;r+=`<div class="col-6 col-lg-3 col-sm-6 col-md-3">\n                    <div class="about-creators pb-3 viewDetailOfVideo" vid="${c}">\n                        <img class="d-block slider-image" src="svg/common/Token 11.svg" alt="First slide">\n                        <div class="top-left-part">\n                            <div class="heading">${l}</div>\n                            <div class="d-inline-flex mt-2">\n                                <img class="user-image" src="${s}" style="border-radius: 50%">\n                                <h5 class="ml-2 description">${a}</h5>\n                            </div>\n                        </div>\n                        <div class="bottom-token-info">\n                            <ul class="list-group list-group-horizontal token-info-content">\n                                <li class="list-group-item border-0">\n                                    <p class="mb-1">Shares</p>\n                                    <p>${t}</p>\n                                </li>\n                                <li class="list-group-item border-0 px-0">\n                                    <p class="mb-1">Offering</p>\n                                    <p>${i}%</p>\n                                </li>\n                                <li class="list-group-item border-0 px-0">\n                                    <p class="mb-1">Raising</p>\n                                    <p>$${d=n,d.toString().slice(0,-3)+"k"}</p>\n                                </li>\n                                </ul>\n                        </div>\n                    </div>\n                </div>`})),$("#uploadedVideos").append(r),function(e){$(".viewDetailOfVideo").off("click").on("click",(function(){!function(e,o){JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/videos/stats/${e}`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(s){$(`#${o.toLowerCase()}TokenMoreInfoModal`).modal("show"),$(`#${o.toLowerCase()}TokenMoreInfoModal`).find("#viewLandingPage").attr("href",`fractionalize.html?vid=${e}`),t(s.data),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(e,o,t){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})}($(this).attr("vid"),e)}))}(i)}(e),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(e,o,t){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})};const t=e=>{console.log("ddd",e);const{ad_revenue:o,co_owner_earnings:t,earning_per_co_owner:s,views:a}=e.stats.performance,{ad_revenue_share:i,funds_raised:r,new_buyers:n,repetitive_buyers:l,shares_sold:c}=e.stats.raised,{title:d,totalShares:u,totalAmountRaised:p,adRevenueShare:g}=e.video;$("#shareSold, #totalSharesSold").text(c),$("#repetitiveBuyers").text(l),$("#adRevernShare").text(i),$("#newBuyers").text(n),$("#fundRaised").text(r),$("#views").text(a),$("#adRevenue").text(o),$("#coOwnerEarning").text(t),$("#earningPerCoOwners").text(s),$("#statsVideoTitle").text(d),$("#creatorShares").text(u),$("#creatorOffered").text(`${g}%`),$("#creatorRaised").text(`$${p}`)};const s=()=>{const e=JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/creator/${e.id}`,type:"GET",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){a(e.user),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(e,o,t){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})},a=e=>{let{picture:o,name:t}=e;$("#userProfileTempl .user-profile-pic").attr("src",o),i(e)},i=e=>{const{picture:o,name:t}=e;$(".creator-section .profile-img").attr("src",o),$(".creator-section .bio-wrapper .users-name").text(t)};let r=e=>{const o=JSON.parse(localStorage.getItem("userInfo"));$.ajax({url:`${BASE_URL}/v1/creator/logout`,type:"POST",data:{email:`${o.email}`},xhrFields:{withCredentials:!0},crossDomain:!0,success:function(e){google.accounts.id.initialize({client_id:"280264346590-vjg6cqponliotfqn32pt2mna2jnqmmtu.apps.googleusercontent.com"}),google.accounts.id.revoke(`${o.email}`,(e=>{console.log("consent revoked"),document.cookie="abittoken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/",localStorage.removeItem("userInfo"),window.location.href="index.html"})),aBit_UTIL.displaySuccessDialog("Success!","Thank you! Our team will reach out soon.")},error:function(e,o,t){aBit_UTIL.displayErrorDialog("ERROR!","SOME ERORR")}})}}));
